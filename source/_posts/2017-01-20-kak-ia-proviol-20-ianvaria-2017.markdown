---
layout: post
title: "Как я провёл 20 января, Пт"
date: 2017-01-20 09:52:21 +0300
comments: true
categories: 
---
Будильник зазвонил в шесть, я решил мужественно полежать ещё пять минут и, когда я все же встал, на часах было 7-05. Пришлось срочно поднимать Полю и готовить бутеры и БК. К тому времени, как Поля уже оделась, малыш ещё спал, так что мы потащились в путь вдвоем. С собой я взял сыр для продажи на работе + некоторое его количество для презентации.

На работе провел мощную рекламную акцию с раздачей образцов - и тут же сбыл два принесенных кубика. На самом деле, заказов сразу поступило много, досадно, что я сразу не принёс весь сыр, сразу бы его и продали бы.

На работе опять взялся за Руби, еще раз все тщательно обдумал - и решил вчерашнюю задачу, то есть самостоятельно написал перехват и обработку несуществующих методов, не подглядывая в готовые решения.

{%codeblock lang:ruby Динамическая имитация работы несуществующих методов через method_missing%}
class C1
     def method_missing(*args)
          self.class.class_eval do
               if args.first=~ /(.*)=/
                    puts "@#{args.first} is set to #{args[1]}"
                    instance_variable_set("@#{$1}",args[1]);
               else
                    instance_variable_get("@#{args.first}")
               end
          end;
     end;
end;

a=C1.new
a.trololo=5;
puts a.trololo; #=> 5
a.trololo=20;
puts a.trololo; #=> 20

puts C1.instance_variables #=> @trololo
{%endcodeblock%}

{%codeblock lang:ruby Динамическое создание ранее не существовавших методов при обращении к ним%}
class C1
     def method_missing(*args)
          self.class.class_eval do
               if args.first=~ /(.*)=/
                    define_method("#{args.first}") do
                        puts %Q{Variable named "#{$1}" is set to #{args[1]}}
                        instance_variable_set("@#{$1}", args[1])
                    end;
               else
                    define_method("#{args.first}") do
                        puts %Q{Variable named "#{args.first}" is equal to }+instance_variable_get("@#{args.first}").to_s
						 instance_variable_get("@#{args.first}")
                    end;
               end
          end
     self.send(args.first)
     end;
end;

a=C1.new;

a.trololo=5
puts a.trololo

puts "-- Instance methods of C1 --"
puts C1.instance_methods.grep /ololo/ #=> trololo=, trololo
puts a.instance_variables.grep /ololo/ #=> @trololo
{%endcodeblock%}

Вот так вот, если что-то долго пилить, оно перепилится, ну, кроме Джавы, конечно.

В обед потащился в зал, жал 120, выжал два раза, второй раз едва-едва, но все же выжал сам, чуть утренняя булочка обратно не вылезла. Дальше жал 100\*3\*6, выжал легко, надо поднимать планку, я прямо вижу, как запросто жму сотню три по восемь.

В раздевалке поговорил с Грищенко, он сказал, что собирается поехать в Испанию, причем они забронировали апартаменты, типа это дешевле. От аэропорта до Барселоны и дальше до места там якобы легко добраться на электричке. Возможно, это мысль нам на лето.

После обеда обработал ещё десяток фоточек из Калининграда, я уже принялся за предпоследний день, хотя уже вообще давно пора было с этим закончить, скоро пройдёт полгода с нашей поездки.

Потом занялся Яндекс-диском, который совершенно переполнился. Надо аккуратненько удалить оттуда 2015 год, а заодно и с рабочего компа - предварительно убедившись, что все картинки точно перенесены на внешние диски на работе и дома. Тут получился провал, потому что на рабочем компе, яндекс-диске и внешнем диске все вразнобой, и если на внешний кирпич скопировать проблем нет, то на переполненный Яндекс-диск особо ничего не скопируешь. Так что придётся рубить хвост по частям, и синхронизировать ЯД с домашним диском в несколько приемов.

Надо было освободить сколько-то места на ЯД и заодно скинуть туда все, что по небрежности скинуто ещё не было, а затем перенести на домашний комп по FTP, пора уже навести в этом деле порядок, пользуясь современными технологиями. Я стал перебрасывать Катины фоточки из Крыма с ЯД на внешний диск, и параллельно что-то с него закачивал на ЯД, но почему-то запись прервалась, я предположил, что вдруг включился Device Lock, который уже не раз отравлял мне жизнь, переподключил внешний диск к ноуту - но и там он почему-то не заработал, буква в списке появилась, но содержимое не читается. И тут я понял, что дело плохо - диск рухнул, и вместе с ним рухнул фотоархив, видеоархив, архив RAW-файлов, и фоточки из Калининграда так и останутся навсегда необработанными. Ещё несколько минут назад я их видел на экране, но больше, по-видимому, никогда не увижу, и те, что я обработал сегодня, спасло лишь чудо в последний момент.

К этому времени настала пора ехать домой, так что потащился к метро, несколько расстроенный и озадаченный. Что же теперь, придётся обращаться в службу "восстановления данных"? Наверняка там оплата помегабайтно и выйдет очень дорого за 2ТБ.

Машину на Сходненской я, к счастью, поставил так, что загородить меня было нельзя. На мосту через МКАД стоял длинный хвост, так что я съехал на МКАД. Это, без сомнения, было самым глупым решением из всех возможных, потому что вся эстакада была забита, и перед разворотом тоже стоял хвост. Встал без затей на тротуаре, не доезжая помойки.

Дома были родители, отец приготовил нам суп харчо, так что я поел с аппетитом. Юли ещё не было, потому что она застряла в магазе на Планерной - не просто так, Юля выбирала подарок для Эмилии. Когда Юля пришла, она принесла не только сумочку для Эмилии, но ещё и резиновые сапоги себе на участок и ещё новое платье для Поли и ещё какую-то майку или кофточку.

Потом родители поехали домой, а мы с Юлей выпили по стаканчику портвейна, на этот раз "Белый Сурож", как мне показалось, он лучше, чем прошлый, тот вроде назывался "Алушта", какой-то он тяжелый на вкус. А лучше всех был "Южнобережный", но что-то он не попадается.

Я уже так устал за неделю, что дома почти ничего не делал, я вообще решил, что мне ничего не надо. Дети меня все равно не слушают, часам к десяти я пошёл и леш в кровать. У меня уже даже не осталось сил смотреть планшет, так что вскоре я уснул.